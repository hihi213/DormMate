# DormMate 관리자 화면 와이어프레임 가이드

본 문서는 DormMate 관리자 웹 애플리케이션의 핵심 화면을 설계·구현하기 위한 구조적 가이드를 제공한다. 모든 내용은 `nogitReadME.md`, `mvp-scenario.md`, `status-board.md` 등 운영 문서를 기반으로 작성했으며, Figma 와이어프레임 제작과 백엔드 API 스펙 정의의 참고 자료로 활용한다.

## 개정 이력
- 2024-05-27: 전 모듈 통합 관리자 레이아웃 및 운영 시나리오 최종 정리
- 2024-05-26: 관리자 공통 레이아웃 및 초기 화면 구조 초안 작성

---

## 1. 공통 레이아웃

- **헤더**
  - 좌측: `DormMate Admin` 로고/타이틀
  - 중앙: 전역 검색 인풋 (호실/사용자/스티커 코드)
  - 우측: 알림 아이콘(미읽음 뱃지), 프로필 드롭다운(내 계정, 로그아웃)
- **사이드 내비게이션**
  - 메인: 대시보드
  - 입주자 & 제재: 사용자, 벌점·제재
  - 시설 모듈: 세탁실, 도서관, 다목적실, 냉장고 모듈
  - 운영 도구: 알림, 시스템 설정, 감사 로그 & 리포트
  - 각 메뉴 아래 중요 하위메뉴 배치(예: 냉장고 → 자산 구조/물품 목록)
- **내비게이션별 레이아웃 구조**
  - **대시보드**: 전용 전체 화면(섹션 2) 노출. 상단 글로벌 운영 헤더 + KPI 매트릭스 + 모듈 스냅샷 + 운영 큐/타임라인 + 활동 피드. 우측 사이드 레일에는 항상 퀵 액션 패널이 고정.
  - **사용자**: 좌측 필터 & 목록, 중앙 상세 테이블, 우측 슬라이드 패널 구조(섹션 6). 상단에 역할/층/상태 필터 바, 하단에 활동 로그 타임라인.
  - **벌점·제재**: KPI 카드 + 벌점 테이블 + 제재 타임라인(섹션 12). 우측에는 규칙 편집 패널과 알림 템플릿 미리보기, 상단에는 모듈별 필터 탭.
  - **세탁실**: 모듈 헤더(구역/기기유형 필터) 아래에 3열 레이아웃(상태 보드, 타임라인, 처리 패널)과 하단 통계(섹션 8). 상단 탭: `현황`, `신고 큐`, `분석`.
  - **도서관**: 좌측 분류 트리, 중앙 도서 테이블, 우측 상세 패널(섹션 9). 상단 탭: `현황`, `대출·예약`, `분석`. 하단에 연체/예약 통계 카드.
  - **다목적실**: 상단 캘린더/리스트 토글, 본문 주간 캘린더, 우측 정책 카드(섹션 10). 하단 신고 큐와 통계 블록, 상단 탭: `예약 현황`, `신고`, `분석`.
- **냉장고 모듈**: 모듈 헤더(층/칸 필터) + 상단 탭 `층별장 관리`, `냉장고 관리`로 섹션 3~4 화면을 전환하고, 심화 조사는 감사 로그 & 리포트 프리셋으로 연결한다. 기본 레이아웃은 좌측 리스트/카드 + 우측 세부 패널.
  - **알림**: 배치 스케줄 카드, 알림 매트릭스, 발송 로그 테이블(섹션 7). 우측 사이드 패널에 템플릿 버전 및 재발송 큐.
  - **시스템 설정**: 탭 `자원 관리`, `벌점 정책`, `모니터링`, `환경 변수`로 구성. 각 탭은 카드 그리드 + 상세 패널(섹션 7).
  - **감사 로그 & 리포트**: 상단 필터 바, 중앙 로그 테이블, 우측 Diff/증빙 패널, 하단 리포트 카드(섹션 13). 상단 탭 `감사 로그`, `리포트`, `예약 발송`.
- **IA 가이드**
  - 단일 관리자 계정이 모든 모듈을 다루므로, 메뉴는 업무 플로우별로 단일 계층에 정렬한다.
  - 동일 기능이 두 화면 이상에 반복되지 않도록, 조회는 리스트 화면에서, 상세 편집은 우측 패널 혹은 하위 탭에서 수행한다.
  - 실시간 운영(자산 상태, 알림)은 모듈 화면에, 히스토리·통계는 대시보드/감사 로그에 위치해 중복을 방지한다.
- **모듈 아키텍처**
  - 관리자 포털은 냉장고, 세탁실, 도서관, 다목적실 등 전 모듈을 병렬로 다루며, 공통 UI 패턴(목록→패널, KPI→상세)을 재사용한다.
  - 모든 모듈은 동일한 수준으로 구축되어 단일 코드베이스에서 내비게이션·API·컴포넌트를 공유한다.
  - 공통 자원(사용자, 벌점, 알림, 감사 로그)은 각 모듈이 참조하는 교차 영역으로 중앙 집중 관리한다.
- **메인 캔버스**
  - 기본 폭 960~1024px, 24px 그리드
  - 상단 KPI 카드 → 중간 상태보드/그래프 → 하단 테이블/리스트 → 우측 슬라이드 패널 구조 권장
- **슬라이드 패널(우측)**
  - 기본 폭 360px
  - 테이블 행/카드 선택 시 상세 정보 + 액션 버튼 제공
  - 변경사항 존재 시 닫기 전 Confirm 다이얼로그
- **UI 토큰 초안**
  - 타이포: 헤드라인 20/600, 섹션 타이틀 16/600, 본문 14/500, 캡션 12/400 (Pretendard)
  - 색상: Primary `#2F4AE3`, Secondary `#3EC6A3`, Warning `#FFB020`, Danger `#FF5630`, Background `#F6F8FB`, Surface `#FFFFFF`
  - 배지: 정상(초록), 임박(노랑), 만료(빨강), 잠금(보라)
- **디자인 스펙**
  - 데스크톱 1440px 기반, 1024px/768px 반응형 레이아웃 완전 제공
  - 한국어/영어 전환 지원, 다크·라이트 테마 토글 및 사용자 단축키 모달 내장
  - 접근성: WCAG 2.1 AA 대비, 스크린리더 라벨, 포커스 인디케이터, 키보드 네비게이션 전면 지원

---

## 2. 관리자 대시보드

- **주요 목적**: 전 모듈이 이미 구축된 환경에서 “어떤 조치를 먼저 해야 하는지”를 빠르게 파악하도록 최소 구성요소만 배치한 요약 화면을 제공한다.
- **연계 화면**: 냉장고, 세탁실, 도서관, 다목적실, 사용자, 벌점·제재, 알림, 감사 로그 & 리포트, 운영 지원 도구.
- **중복 방지 규칙**: 세부 데이터 편집·리스트 관리는 각 모듈 화면에서만 수행한다. 대시보드는 요약·경보·우선순위만 노출한다.

### 2.1 히어로 KPI 스트립
- **상단 4카드**
  1. 시설 가동률: (냉장고 활용률 + 세탁실 사용률 + 다목적실 예약률) 평균
  2. 위험 물품: 임박/만료 포장 수 + 연체 도서 수 + 노쇼 신고 수
  3. 사용자 상태: 활성 계정 / 벌점 정지 / 신규 가입 대기
  4. 알림 & SLA: 금일 발송 성공률 / 실패 수, SLA 경고 카운트
- 각 카드 우측에 `상세 보기` 버튼, 하단 전일 대비 증감 아이콘. 카드를 클릭하면 해당 모듈 섹션으로 이동.

### 2.2 모듈 상황 탭
- 중앙 상단에 4개 탭(`냉장고`, `세탁실`, `도서관`, `다목적실`)을 배치해 모듈별 핵심 지표를 슬라이드 방식으로 표시.
- 탭 내용(예: 냉장고)
  - 층별 칸 활용률 미니 도넛(Top3만), 오늘 검사 진행 상태(진행 중/완료/미시작)
  - 알림 필요 포장 리스트(최대 3건) + `더보기` 링크
- 동일 패턴으로 세탁실(사용 중 기기 Top5, 고장 신고), 도서관(연체/예약 대기), 다목적실(임박 예약, 노쇼 경고)을 요약.
- 모듈 탭 하단에 `모듈 바로가기` 버튼과 `최근 업데이트` 타임스탬프 노출.

### 2.3 운영 워치리스트
- 좌측 1열 카드 리스트(최대 6건)로 “지금 처리해야 할 일”을 합쳐서 표시.
  - 승인 필요: 층별장 임명, 냉장고 증설, 도서 폐기 승인
  - 조치 필요: 노쇼 신고, 세탁실 고장, 벌점 검토
  - 시스템 경보: 알림 실패, SLA 초과, 장비 오류
- 각 카드에는 담당자, 마감 시간, `즉시 조치` 버튼. 우측에 `모두 보기` 링크(운영 지원 도구로 이동).

### 2.4 최근 이벤트 피드
- 우측 2열 타임라인(최대 8건)으로 최근 24시간 내 주요 이벤트 요약.
  - 검사 결과(경고/폐기), 예약 변경, 도서 강제 반납, 벌점 부여/해제
- 필터: 모듈, 심각도, 처리 여부(체크박스). 각 이벤트에는 `세부보기` 버튼으로 관련 화면으로 이동.

### 2.5 퀵 액션 & 런북 패널
- 화면 우측 사이드 레일(고정)
  - 상단: `검사 잠금 해제`, `알림 재발송`, `벌점 등록`, `신고 처리`, `티켓 생성` 버튼
  - 중단: 현재 인시던트/티켓 요약(상태·담당자·남은 시간)
  - 하단: 즐겨찾는 모듈, 저장된 필터, 개인 단축키 팝오버

### 2.6 데이터 연계
- 주요 데이터: `dashboardKpi`, `facilitySnapshot`, `pendingQueue`, `eventFeed`, `notificationLog`, `incidentQueue`, `systemMetric`.
- 업데이트 정책: KPI·워치리스트는 60초 간격 폴링 + 경보 시 SSE 푸시, 이벤트 피드는 SSE 스트림.

- **시각적 규칙**
  - 대시보드 높이 720px 기준, 위에서 아래로 3영역(히어로 KPI, 모듈 탭, 워치리스트/피드)
  - 각 영역 간격 24px, 카드 높이 120px 이내 유지, 텍스트 정보는 두 줄 이내
  - 경보/위험은 빨간 배지, 주의는 주황, 정보는 파랑 사용

---

## 3. 층별장 관리

---

## 3. 냉장고 모듈 – 칸 카드 뷰

- **주요 목적**: 층별 칸 상태를 빠르게 확인하고, 카드 하단 아코디언만으로 검사 요약과 물품 정보를 즉시 열람·조치한다.
- **연계 화면**: 감사 로그 & 리포트, 물품 목록, 사용자 & 역할 관리, 벌점·제재.
- **중복 방지 규칙**: 카드에는 필수 요약 정보만 노출하고, 검사/물품 세부는 카드 하단 아코디언이나 공통 팝업으로 연결한다.

### 3.1 카드 레이아웃
- 상단 모듈 헤더: 층 선택 드롭다운, 냉장고 유닛 토글, `증설/감축 시뮬레이터`, `층별 공지 작성`, `호실 재배분` 버튼으로 전역 액션을 한 곳에 모은다.
- 본문은 단일 열 카드 목록이다. 각 카드에는 `칸 라벨`, `할당 8호실`, 담당 층별장 이름, 잠금 상태, 마지막 검사 일시를 배치해 우선순위를 한눈에 파악한다.
- 카드 우측 상단에는 잠금 토글과 메모 아이콘을 둬 긴급 조치를 즉시 실행한다. 토글은 관리자만 `강제 종료`를 수행할 수 있도록 잠금 상태에서 “강제 해제” 버튼이 활성화되며, 활동이 없으면 30분 후 자동으로 잠금이 해제되고 조치가 발생할 때마다 `lockedUntil`이 30분 뒤로 갱신된다.
- 카드 하단에는 `검사 요약 보기`, `물품 확인` 두 가지 버튼을 배치한다. 버튼을 누르면 카드 자체가 세로로 확장되어 동일한 카드 내부 하단에 아코디언이 나타난다. 카드 외부로 내용이 밀려 나가지 않도록, 확장 시에도 카드의 좌우 여백과 배경을 유지한다.
  - `검사 요약 보기`: 카드 본문 하단이 확장되며 검사 요약 아코디언이 동일 카드 내부에서 펼쳐진다.
  - `물품 확인`: 같은 방식으로 물품 상세 아코디언이 카드 내부에서 펼쳐져 일관된 체계를 유지한다.

### 3.2 검사 요약 아코디언
- 헤더에는 `검사 일시 · 검사자 · 경고/폐기 요약(예: 경고 2 · 폐기 1) · 이번 검사 재발 2명 · 확인 여부` 등 핵심 정보만 표시한다.
- 확인 여부는 기본값을 `확인 필요` 배지로 두고, 관리자가 검토를 마치면 `확인 완료` 체크박스를 눌러 회색 배지로 전환한다. 새로 도착한 검사 기록에는 `NEW` 배지를 함께 표시해 미확인 항목을 즉시 식별한다.
- 헤더 오른쪽에는 `확인 완료` 체크박스/배지 묶음과 함께 `◀` 버튼, `검사 일시` 드롭다운, `▶` 버튼을 두어 카드 내부에서 바로 이전/다음 검사 요약으로 이동한다.
- 아코디언을 펼치면 사용자 단위(호실 번호 + 개인 번호)로 정렬된 경고/폐기 내역이 나타난다.
  - 각 항목에는 사용자 이름, 호실, 관련 물품, 조치 사유, 벌점 여부를 묶어 표현한다.
  - 사용자 이름을 클릭하면 사용자 & 역할 관리에서 사용하는 팝업이 크게 열려 과거 검사·벌점 내역을 확인한다.
  - 필요 시 `물품 이동` 버튼으로 아래 물품 아코디언으로 곧바로 스크롤 이동한다.
- 아코디언 하단에는 `감사 로그에서 자세히 보기` 버튼을 두어 감사 로그 & 리포트 화면으로 이동, 동일한 층·칸·검사 ID 필터를 적용해 추가 탐색을 이어간다.

### 3.3 물품 상세 아코디언
- `물품 확인` 버튼을 누르면 카드 아래 물품 아코디언이 펼쳐진다.
- 상단에는 상태/등록자 필터와 `선택 삭제`, `라벨 재발급`, `Excel 업로드` CTA를 배치하고, 그 아래 포장 목록 테이블을 둔다.
- 포장 목록 항목을 클릭하면 같은 아코디언 안에서 포장 상세(품목 리스트, 메모, 검사 이력)와 칸별 히스토리를 확인한다.
- 물품 조정/라벨 재발급 등 결과는 토스트 + `Undo`로 피드백한다.
- 검색 인풋은 포장명·라벨 외에도 다자릿 슬롯 코드(`AA-101`), 보관자 이름, `층 + 호실` 조합(`3F 301`)을 인식한다. 삭제 이력이 있는 라벨에는 `라벨 재사용` 배지를 함께 노출해 조치 이력을 한눈에 확인한다.

### 3.4 아코디언 연계 UX
- 검사 요약에서 물품 링크를 누르면 해당 포장이 포함된 물품 아코디언으로 스크롤 이동해 조치를 이어간다.
- 검사 요약과 물품 상세는 각각 접고 펼 수 있으므로, 필요한 정보만 순차적으로 확인한다.

### 3.5 반응형 레이아웃
- **데스크톱(≥1280px)**: 카드가 확장되면 동일 카드 내부 하단 영역에서 아코디언이 펼쳐진다. 목록과 상세가 한 시야 안에 들어와 빠르게 검토할 수 있다.
- **노트북/태블릿(960~1279px)**: 카드에서 `검사 요약 보기` 또는 `물품 확인`을 누르면 우측에 슬라이드 패널이 등장해 검사/물품 탭을 차지한다. 카드는 좌측 목록으로 남아 있고, 패널을 닫으면 목록만 남도록 한다.
- **모바일(<960px)**: 카드 내부 확장 패턴을 그대로 사용하되, 아코디언을 한 번에 하나만 펼치도록 제한해 스크롤 부담을 줄인다.

데이터 연계 포인트: `compartmentOverview`, `inspectionSummary`, `residentRole`, `fridgeBundle`, `fridgeItem`, `bundleAudit`.

---

## 4. 냉장고 모듈 – 사용자/검사 연동 가이드

- **주요 목적**: 카드에서 바로 사용자 정보와 검사 기록을 확인할 수 있도록 공통 팝업과 감사 로그 프리셋을 연계한다.
- **사용자 팝업**: 검사 요약 아코디언 또는 물품 상세에서 사용자 이름을 클릭하면 `사용자 & 역할 관리` 화면과 동일한 팝업을 띄우되, 냉장고 화면에서 진입했을 때는 상단 히어로 카드에 최근 검사에서 받은 경고/폐기 사유와 누적 벌점을 먼저 보여 준다. 나머지 기본 정보·역할·알림 설정은 탭으로 접어두고 필요할 때 펼칠 수 있으며, 팝업은 전체 화면 중앙에 크게 표시된다. 팝업을 닫아도 카드 아코디언의 접힘 상태는 유지된다.
- **감사 로그 연동**: `감사 로그에서 자세히 보기` 버튼을 누르면 감사 로그 & 리포트 화면으로 이동하며, 이동 시 현재 선택한 층·칸·검사 ID를 프리셋 필터로 전달해 동일한 컨텍스트로 바로 확인한다. 돌아올 경우 이전 카드 아코디언 상태를 복구한다.
- **Undo/토스트**: 냉장고 모듈에서 사용자 권한·벌점 등을 변경하면 팝업 내에서 토스트와 `Undo`를 제공하고, 변경 사항은 카드 요약 진입 시점에 즉시 반영되도록 한다.

---

## 5. 감사 로그 기반 검사 조회 가이드

- **주요 목적**: 별도 검사 이력 화면을 두지 않고, 감사 로그 & 리포트에서 냉장고 검사를 심화 조회한다.
- **연계 화면**: 냉장고 모듈 카드, 감사 로그 & 리포트, 벌점·제재.
- **중복 방지 규칙**: 실시간 검사 진행이나 칸 잠금 제어는 냉장고 화면에서만 처리하고, 감사 로그는 조회 및 리포트 용도로 일원화한다.
- 냉장고 카드의 `감사 로그에서 자세히 보기` 버튼은 감사 로그 & 리포트로 이동하면서 층·칸·검사 ID가 적용된 프리셋 필터를 자동으로 설정한다.
- 감사 로그 & 리포트에는 `냉장고 검사` 전용 저장 필터와 `재검 필요`, `벌점 발생`, `재발 사용자` 토글을 제공해 필요한 조치 항목을 빠르게 추려낸다.
- 반복 위반자 추적을 돕기 위해 검사 항목마다 `재발 사용자 수`, `경고/폐기 요약`, `알림 발송 여부`가 로그 상세에 포함된다.
- 리포트 탭에는 `주간 냉장고 검사 리포트` 템플릿을 추가해, 층/칸별 경고 추이와 재검 지시 현황을 자동 PDF·CSV로 생성할 수 있게 한다.

데이터 연계 포인트: `inspectionRecord`, `inspectionAction`, `notificationHistory`, `auditLog`.

---

## 6. 사용자 및 역할 관리

- **주요 목적**: 기숙사생 계정과 역할, 알림 설정을 관리한다.
- **연계 화면**: 층별장, 벌점·제재, 알림.
- **중복 방지 규칙**: 벌점 부여·차감은 `벌점·제재` 화면으로 위임하고, 시설 사용 기록은 각 모듈 화면에서만 열람한다.
- 필터: 층, 역할(일반/층별장/관리자), 계정 상태(활성/비활성), 벌점 구간, 검색(이름·호실)
- 요약 목록(테이블): 사용자명, 호실, 역할, 벌점, 최근 로그인, 상태 배지
- 목록 상단 툴바: `역할 변경`, `계정 비활성화`, `벌점 조정`, `CSV 내보내기`
- 행 클릭 시 상세 팝업(모달)
  - 기본 정보, 호실 배정, 역할 히스토리, 모듈 접근 권한, 알림 설정
  - 벌점 이력과 조정 입력, 등록 물품/예약/대출 요약, 최근 알림/검사 조치
  - 액션: `층별장 임명`, `관리자 승격`, `계정 잠금`, `알림 재전송`, `권한 초기화`
- **핵심 기능**
  - 호실·권한 변경은 각 모듈에서 수행되지만, 요약 목록과 상세 팝업에 즉시 반영되어 전체 현황을 빠르게 파악
  - 벌점 수동 부여/차감, 자동 정지 해제, 사용자 활동 로그 타임라인, 메모 기록
  - 알림 설정 세분화(모듈별, 백그라운드, 채널 선택)와 알림 재전송, 층별장/관리자 임명·해제 워크플로우

데이터 연계 포인트: `residentAccount`, `roleAssignment`, `penaltyLog`, `notificationPreference`.

---

## 7. 알림 및 시스템 설정

- **주요 목적**: 모듈별 알림 정책과 시스템 전반 설정을 관리한다.
- **연계 화면**: 대시보드, 냉장고, 세탁실, 도서관, 다목적실, 벌점·제재.
- **중복 방지 규칙**: 알림 내역 세부 분석은 `감사 로그 & 리포트`로 연결하고, 각 모듈에서 개별 알림 수신을 중복 설정하지 않는다.
- **알림 설정**
  - 배치 스케줄 카드: 유통기한 배치 시각 설정(기본 09:00), 활성/비활성 토글, `테스트 발송`
  - 알림 매트릭스: 모듈별 ON/OFF, 일일 최대 횟수, Band 중복 여부
  - 발송 로그: 성공/실패, 재전송, 실패 사유
- **시스템 설정**
  - 냉장고 자원 관리: 층별 유닛 목록, 칸 구조, 호실 배분
  - 벌점 정책: 기준점/제재 설정(10점 이상 1주 이용 정지)
  - 감사 로그: 필터(모듈/사용자/일자), CSV 내보내기
  - 시스템 모니터링: CPU/메모리/디스크 그래프, API 평균 응답 시간, 최근 에러 로그 100건
- **핵심 기능**
  - 모듈별 배치 스케줄 다중 등록, 일일 최대 알림치 모니터링, Background 알림 허용 사용자 일괄 관리
  - 알림 실패 재시도, 템플릿 버전 관리, Band 공지 중복 방지 매트릭스
  - 시스템 모니터링에 SLA 알림, 외부 APM 링크, ElasticSearch 기반 감사 로그 Diff 뷰와 필터 저장 제공

---

## 8. 세탁실 모듈 관리

- **주요 목적**: 관리자 한 명이 세탁실 기기 현황과 신고를 한 화면에서 통합 관리한다.
- **연계 화면**: 벌점·제재, 알림, 감사 로그 & 리포트.
- **중복 방지 규칙**: 기기별 상세 편집은 이 화면에서만 처리하며, 대시보드는 워치리스트 형태로 요약만 제공한다.
- 상단 필터: 구역(남/여/공용), 기기 유형(세탁기/건조기), 상태(ALL/AVAILABLE/IN_USE/DONE/ERROR), 검색(기기명/ID)
- 기기 요약 목록: 필터 결과를 테이블/카드로 보여주며, 기기명·상태·남은 시간·사용 호실·신고 수·마지막 정비 일이 한 줄에 표시된다.
- 상세 패널/팝업: 기기를 선택하면 우측 드로어가 열리고 상태 조정, 타임라인, 신고 큐 섹션을 순서대로 제공한다.
  - 상태 조정: 강제 상태 전환, 필터 청소 알림 기록, 자동 OUT_OF_SERVICE 토글 설정
  - 타임라인: 일간 사용/예약/오류 기록과 시간 정정 승인 흐름
  - 신고 큐: 신고자·사유·첨부, `승인/기각/추가 조치`, 벌점 연동, 알림 재발송
- 하단 통계: 이용률 히트맵, 방치·미등록 추이 그래프, CSV 다운로드
- 실시간 요소: SSE/웹소켓 연동, 상태 배너 표시
- 호실·권한 연결: 요약 목록에서 해당 기기를 사용하는 호실과 사용자 권한을 확인하고, 상세 패널에서 접근 권한을 즉시 조정한다.

데이터 연계 포인트: `laundryDevice`, `laundryUsage`, `laundryIncident`, `penaltyQueue`.
- **핵심 기능**
  - 기기 상태 모니터링, 시간 정정 승인, 필터 청소 알림, 자동 OUT_OF_SERVICE 토글
  - 신고 큐 처리, 벌점 연동, 신고 기반 알림, 감사 로그 기록

---

## 9. 도서관 모듈 관리

- **주요 목적**: 관리자 한 명이 도서 정보, 대출·예약, 연체 벌점을 통합 관리한다.
- **연계 화면**: 벌점·제재, 알림, 감사 로그 & 리포트.
- **중복 방지 규칙**: 사용자 역할 변경은 `사용자` 화면에서 수행하고, 벌점 처리 로직은 `벌점·제재`에서 유지한다.
- 필터: 분류, 대출 상태, 검색(도서명·ISBN·저자), 기간(등록/대출)
- 레이아웃: 좌측 분류 트리, 중앙 도서 테이블, 우측 상세 패널
  - 상세 패널 탭: `대출 이력`, `예약 이력`
- 하단 분석: 연체 현황 도넛, 월별 대출 추이, 예약 대기 시간 박스플롯
- 액션: `강제 반납`, `예약자 알림`, `벌점 부여`
- 호실·권한 연결: 도서 대출/예약 시 호실 정보와 사용자 권한을 즉시 확인하고, 필요하면 팝업에서 권한을 조정할 수 있다.

데이터 연계 포인트: `libraryBook`, `libraryLoan`, `libraryReservation`, `libraryPenalty`.
- **핵심 기능**
  - 도서 검색·대출·예약 관리, 일괄 작업, 분류 템플릿, 태그 검색
  - 예약 대기 시간 예측, 인기/신규 탭, Lost 처리 자동 공지, 도서 폐기 승인
  - 외부 도서 API 연동, 연체 벌점 자동화, 알림 연계
  - 현재 도서 테이블 스키마와 동일한 컬럼을 갖는 엑셀 템플릿을 제공하고, 업로드 시 검증·미리보기 후 일괄 반영

---

## 10. 다목적실 모듈 관리

- **주요 목적**: 관리자 한 명이 다목적실 예약·합석·신고 흐름을 통제한다.
- **연계 화면**: 벌점·제재, 알림, 감사 로그 & 리포트.
- **중복 방지 규칙**: 사용자 일정 변경은 이 화면에서만 처리하며, 벌점·정지 결정은 `벌점·제재`에 기록한다.
- 상단 헤더: 방 선택, 날짜 범위, 주간 캘린더/목록 토글
- 예약 요약 목록: 선택한 기간의 예약을 카드/테이블로 표시(시작 시간, 호실, 이용자, 합석 여부, 상태). 항목을 클릭하면 상세 패널이 열리거나 주간 캘린더에서 해당 슬롯이 강조된다.
- 본문 캘린더: 주간 캘린더(10분 단위, 상태별 색) + 슬롯 클릭 시 상세 패널/팝업
- 상세 패널/팝업: 예약 정보(사용자, 호실, 합석 여부), 메모, 알림, 벌점 조치, 호실 권한 수정, `강제 취소/시간 변경/합석 해제` 버튼을 제공
- 하단: 신고 관리 탭(노쇼/미등록), 통계 블록(예약률, 벌점 현황, 피크 시간)
- 우측 정책 카드: 예약 오픈 스케줄, 최소/최대 시간, 합석 허용 토글, 정기 점검 예약
- 액션: `강제 취소`, `시간 변경`, `합석 해제`, `벌점 부여`
- 호실·권한 연결: 예약 카드에는 해당 호실 사용자와 권한 정보가 함께 표시되며, 허용 호실 범위 및 합석 권한을 즉시 조정할 수 있다.

데이터 연계 포인트: `roomSchedule`, `roomReservation`, `roomIncident`, `roomPolicy`.
- **핵심 기능**
  - 실데이터 연동 주간 캘린더, 다중 룸 패키지 예약, 합석 매칭 제안
  - 신고 큐 SLA 타이머, 증빙 뷰어, 관리자 메모 히스토리, 벌점 자동 연동
  - 예약 정책 시뮬레이터, 오픈 스케줄 다중 규칙, 외부 캘린더 동기화(iCal/Google/Outlook)

---

## 11. 상호작용 패턴 및 접근성

- **주요 목적**: 관리자 전반의 UX 가이드와 접근성 표준을 정의한다.
- **연계 화면**: 공통 컴포넌트, 각 모듈 화면.
- **중복 방지 규칙**: 개별 화면에서 독자적인 상호작용을 정의하지 않고, 이 섹션의 가이드를 참조하도록 한다.
- 주요 데이터 테이블 필터/정렬 상태는 URL 쿼리로 유지 → 링크 공유 가능
- 위험 액션(삭제, 벌점, 강제 취소)은 사유 입력 필수 + 알림 미리보기 제공
- 실시간 모듈(SSE/웹소켓)은 상단에 연결 상태 표시 및 재연결 버튼 노출
- 키보드 내비게이션: 헤더 검색 `⌘/Ctrl + K`, 테이블 다중 선택 Shift/⌘ 지원
- 접근성: 주요 버튼 `aria-label` 제공, 색상 대비 WCAG AA 준수
- **핵심 기능**
  - 사용자별 인터랙션 프리셋(컬럼 저장, 필터 즐겨찾기), 멀티 세션 상태 동기화, 실시간 협업 히스토리
  - SSE 자동 재연결, 토스트/스낵바 피드백, 고대비/대문자 등 접근성 모드 토글
  - 다국어 라벨, 키보드 전용 내비게이션, 테이블 컬럼 드래그·고정, 단축키 사용자 정의

---

## 12. 벌점 및 제재 관리

- **주요 목적**: 자동·수동 벌점과 이용 정지를 중앙에서 관리한다.
- **연계 화면**: 사용자, 세탁실, 도서관, 다목적실, 감사 로그 & 리포트.
- **중복 방지 규칙**: 벌점 발생 근거 데이터는 각 모듈에서만 수정 가능하며, 이 화면은 벌점 수치와 제재 상태를 최종 권한으로 유지한다.
- **벌점 대시보드**
  - KPI 카드: 자동 벌점(도서관 연체/세탁실 방치/다목적실 노쇼) 누적, 수동 벌점, 정지 대상 수
  - 필터: 모듈별, 기간별, 호실/사용자 검색
- **벌점 테이블**
  - 컬럼: 사용자, 호실, 총 벌점, 최근 사유, 자동/수동 구분, 유효기간
  - 액션: `수동 부여`, `차감`, `메모`, `정지 해제`
- **정지 규칙**
  - 10점 이상 자동 정지(1주) 안내 배너, 해제 날짜 카운트다운
  - 규칙 편집 모달(임계값, 제재 기간, 재가입 조건)
- **이력 패널**
  - 타임라인: 벌점 발생 → 알림 발송 → 정지/해제 → 재발 방지 조치
  - 관련 모듈 링크(도서관 대출, 다목적실 신고, 세탁실 기기)
- **핵심 기능**
  - 자동·수동 벌점 현황, 정지/해제, 메모, CSV·Excel·리포트 출력 지원
  - 벌점 알림 템플릿 커스터마이즈, 누적 경고 메일 자동 발송, 선행 포인트 상계 및 모듈별 가중치 설정
  - 월간 벌점 추이, 호실별 위생 지표, 재범률 분석 리포트와 감사 로그 연동

데이터 연계 포인트: `penaltyLog`, `penaltyRule`, `penaltyEnforcement`, `notificationHistory`.

---

## 13. 감사 로그 & 리포트 센터

- **주요 목적**: 모든 모듈의 기록을 장기 보관하고 리포트를 생성한다.
- **연계 화면**: 대시보드, 벌점·제재, 시스템 설정.
- **중복 방지 규칙**: 운영 화면에서는 최근 내역 미리보기만 제공하며, 상세 Diff와 증빙 관리 권한은 이 화면에서만 가진다.
- **감사 로그**
  - 필터: 모듈, 액션 타입(CREATE/UPDATE/DELETE), 사용자, 기간 + 저장된 `냉장고 검사` 프리셋, `재검 필요`, `벌점 발생`, `재발 사용자` 토글
  - 테이블: 시간, 행위자, 대상, 변경 요약, 상세 Diff 보기(검사 항목은 경고/폐기 수, 재발 사용자 수, 알림 발송 여부를 함께 표기)
  - 액션: `JSON 보기`, `증빙 첨부`, `분쟁 마크`, 프리셋 공유
- **리포트**
  - 미리 정의된 리포트 카드: 주간 냉장고 검사 리포트, 월간 벌점 리포트, 알림 성공률 리포트
  - 생성 시 파라미터 선택(기간, 층, 모듈) → PDF/CSV 다운로드
  - 예약 발송(이메일) 스케줄러
- **핵심 기능**
  - 실시간 감사 로그 스트리밍, Elastic 검색, 키워드 하이라이트, 증빙 첨부·분쟁 마킹
  - 리포트 빌더(위젯 Drag&Drop), 주간·월간 리포트 자동 예약 발송, Slack/Teams 공유
  - 이상 징후 감지(알림 실패 급증, 벌점 급증) 자동 경보 및 인시던트 생성

데이터 연계 포인트: `auditLog`, `reportTemplate`, `scheduledReport`.

---

## 14. 운영 지원 도구 연계

- **주요 목적**: 관리자 업무와 외부 운영 시스템을 연결해 장애 대응을 가속화한다.
- **연계 화면**: 대시보드, 알림, 감사 로그 & 리포트.
- **중복 방지 규칙**: 본문 콘텐츠는 운영 도구 링크와 메타 정보만 유지하며, 실제 티켓/런북 내용은 외부 시스템에서 관리한다.
- **Status Board 연동**
  - 주요 운영 지표를 `docs/ops/status-board.md`와 일관되게 표시
  - 배포 일정/이벤트 등 운영 공지를 대시보드 우측 패널에 Surface
- **런북 링크**
  - 각 위험 액션(강제 삭제, 벌점 부여) 옆 `런북 보기` 링크 제공
  - 장애 대응 체크리스트(냉장고, 세탁실, 도서관, 다목적실) 연결
- **티켓 시스템**
  - JIRA/Notion 등 외부 티켓 실시간 생성, SLA 카운트다운, 지연 시 자동 티켓 발행
- **핵심 기능**
  - Status Board 실시간 싱크, 운영 공지 배너, 런북·체크리스트 자동 링크 및 버전 추적
  - 장애 브로드캐스트, 담당자 배정 UI, 인시던트 포스트모텀 템플릿과 후속 액션 관리
  - 외부 협업 도구(Slack/Teams) 알림 연동, 운영 지표 대시보드 공유

---

## 15. 와이어프레임 산출물 & API 맵핑 가이드

- **주요 목적**: 디자인·개발 산출물과 API 명세의 일관성을 보장한다.
- **연계 화면**: 모든 관리자 화면, docs/api/admin.md.
- **중복 방지 규칙**: 화면별 요구사항은 해당 섹션에서 정의하고, 이 섹션은 산출물 목록과 연계 절차만 명시한다.
- **산출물 체크리스트**
  - Figma: 공통 레이아웃 컴포넌트(헤더, 내비, 패널), 페이지별 프레임, 인터랙션 플로우
  - 디자인 토큰: 색상/타이포/간격 JSON 또는 SCSS 변수
  - 프로토타입: 주요 경로(대시보드 → 냉장고 모듈 → 감사 로그 프리셋 → 상세) 링크
- **API 맵핑**
  - 문서화 위치: `docs/api/admin.md` (엔드포인트, 파라미터, 응답 스키마)
  - 테이블 컬럼 ↔ API 필드 매핑, 필터/정렬 파라미터 정의
  - 실시간 영역(SSE) 이벤트 타입/페이로드 명세
- **QA 및 테스트**
  - UX 플로우 테스트 시나리오: 관리자 임명, 검사 강제 종료, 벌점 부여, 예약 강제 취소 등
  - 접근성 체크리스트: 키보드 네비게이션, 색 대비, SR 라벨
- **지원 도구**
  - 디자인 시스템 문서화 사이트(Storybook/Figma Tokens)와 토큰 동기화 파이프라인
  - API 모킹 환경(Postman, MSW)과 통합 리그레션 테스트 스위트

---

## 16. 통합 운영 시나리오

- **일일 운영 플로우**
  1. 대시보드에서 냉장고·시설 KPI, 알림 성공률, 벌점 지표를 확인
  2. 이상 징후 발견 시 해당 모듈 화면으로 이동해 상세 확인 및 조치
  3. 벌점·제재 화면에서 자동/수동 제재를 검토하고 필요한 알림 발송
  4. 감사 로그 & 리포트 센터에서 일일 리포트를 생성·공유, 운영 지원 도구로 티켓 및 런북을 갱신
- **주간 운영 플로우**
  - 리포트 빌더를 통해 주간 검사/벌점/시설 이용률 리포트 자동 발송
  - Status Board와 티켓 시스템을 대시보드에서 교차 확인하고, 인시던트 포스트모텀 정리
- **UX 원칙**
  - 모든 모듈은 KPI → 목록 → 상세 → 조치 → 로그의 동일한 흐름을 유지해 학습 부담을 최소화
  - 공통 컴포넌트와 패턴(검색, 필터, 패널)을 일관되게 사용해 관리자 전환 비용을 낮춘다

---

본 문서 업데이트 시 버전 히스토리를 최상단에 추가하고, Figma 링크 및 API 문서 참조 링크를 함께 관리한다.

---
