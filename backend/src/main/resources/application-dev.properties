# 개발 환경 설정

# PostgreSQL Datasource (개발용)
spring.datasource.url=jdbc:postgresql://localhost:5432/dormitory_db
spring.datasource.username=dorm_user
spring.datasource.password=dorm_password
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# PostgreSQL 16 최적화 설정
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# Redis (개발용)
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms

# Flyway Database Migration (개발용)
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=true

# JWT Configuration (개발용)
jwt.secret=dev-jwt-secret-key-change-in-production-2024
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# AWS S3 Configuration (개발용 - 로컬 파일 시스템 사용)
aws.s3.bucket=dormmate-dev-storage
aws.s3.region=ap-northeast-2
aws.s3.access-key=dev-access-key
aws.s3.secret-key=dev-secret-key

# Spring Security (개발용)
spring.security.user.name=admin
spring.security.user.password=admin

# Actuator & Monitoring (개발용 - 모든 엔드포인트 노출)
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true

# WebSocket
spring.websocket.max-text-message-size=8192
spring.websocket.max-binary-message-size=8192

# File Upload (개발용 - 큰 파일 허용)
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# Logging (개발용 - 상세 로깅)
logging.level.com.dormmate=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.flywaydb=INFO

# PostgreSQL 16 업그레이드 완료 로그
logging.level.org.postgresql=INFO

# Server
server.port=8080
server.servlet.context-path=/

# 개발 환경 특화 설정
spring.jpa.defer-datasource-initialization=false
spring.sql.init.mode=never
