# DormMate Backend Application
#공통 설정 파일

# 애플리케이션 이름
spring.application.name=backend

# 기본 프로파일 설정 (개발 환경이 기본값)
spring.profiles.active=dev

# 공통 설정
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# 공통 JPA 설정
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.globally_quoted_identifiers=true

# 공통 Actuator 설정
management.endpoints.web.base-path=/actuator
management.endpoint.health.show-components=always
management.info.git.mode=simple

# 타임존 설정 (UTC 기반)
spring.jackson.time-zone=UTC
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# 공통 보안 설정
spring.security.basic.enabled=false

# 공통 로깅 설정
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# SpringDoc OpenAPI 설정 (환경별로 오버라이드됨)
# Swagger UI 경로를 기본값으로 사용; 보안 설정 전에는 로컬에서만 확인 권장.
springdoc.api-docs.enabled=true   # /v3/api-docs (CI가 이걸 덤프해 Seed와 diff)
springdoc.swagger-ui.enabled=true   # /swagger-ui/index.html (사람이 수동 확인)
# Actuator 엔드포인트 노출 설정
management.endpoints.web.exposure.include=health,info,httpexchanges
# 쿠버네티스 환경을 대비해 liveness, readiness 프로브를 활성화합니다.
management.endpoint.health.probes.enabled=true
# httpexchanges 엔드포인트 활성화
management.endpoint.httpexchanges.enabled=true
